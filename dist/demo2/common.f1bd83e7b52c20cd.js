"use strict";(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([[76],{4130:(j,p,o)=>{o.d(p,{E:()=>n});var h=o(177),i=o(1780),r=o(7705);let n=(()=>{class a{static \u0275fac=function(g){return new(g||a)};static \u0275mod=r.$C({type:a});static \u0275inj=r.G2t({imports:[h.MD,i.h,i.h]})}return a})()},6164:(j,p,o)=>{o.d(p,{d:()=>I});var h=o(4412),i=o(7673),r=o(6354),n=o(9437),a=o(980),d=o(5312),c=o(4304),g=o(7705),b=o(2791),L=o(1626);let I=(()=>{class f{router;http;unsubscribe=[];authLocalStorageToken="auth-user";isLoading$;isLoadingSubject;sendToRouter$;sendToRouterSubject=new h.t(void 0);authUser=JSON.parse(localStorage.getItem(this.authLocalStorageToken)||"{}");candidateId;tenantId;userId;get allTenantGeneralConfig(){return JSON.parse(localStorage.getItem("tenant_general_config")||"{}")}get allGeneralConfig(){return JSON.parse(localStorage.getItem("general_config")||"{}")}constructor(e,t){this.router=e,this.http=t,this.setUpAuthUser()}ngOnInit(){this.setUpAuthUser()}setUpAuthUser(){this.authUser=JSON.parse(localStorage.getItem(this.authLocalStorageToken)||"{}"),0===Object.keys(this.authUser).length?this.router.navigate(["/landing-page"]):(0!==this.authUser.candidates?.length&&(this.candidateId=this.authUser.candidates[0].id),this.tenantId=this.authUser.tenant_id,this.userId=this.authUser.user_id,this.isLoadingSubject=new h.t(!1),this.isLoading$=this.isLoadingSubject.asObservable(),this.sendToRouter$=this.sendToRouterSubject.asObservable())}fetchDashboardData(){return this.authUser=JSON.parse(localStorage.getItem(this.authLocalStorageToken)||"{}"),this.setUpAuthUser(),this.isLoadingSubject?.next(!0),this.http.get(`${d.c.apiUrl}/candidate/dashboard?candidateId=${this.candidateId}&tenantId=${this.tenantId}`).pipe((0,r.T)(e=>e),(0,n.W)(e=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}uploadResume(e){this.isLoadingSubject?.next(!0);const t=new FormData;return t.append("file",e),t.append("fileName",e.name),this.http.post(`${d.c.apiUrl}/resume?candidateId=${this.candidateId}&tenantId=${this.tenantId}`,t).pipe((0,r.T)(s=>s),(0,n.W)(s=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}fetchAllResumes(e,t){return this.isLoadingSubject?.next(!0),this.http.get(`${d.c.apiUrl}/resume/candidate/all?candidateId=${this.candidateId}&page=${e}&size=${t}`).pipe((0,r.T)(s=>s),(0,n.W)(s=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}previewResume(e){return this.isLoadingSubject?.next(!0),this.http.get(`${d.c.apiUrl}/resume/${e}`,{responseType:"arraybuffer",observe:"response"}).pipe((0,r.T)(s=>{const u=s.headers.get("Content-Disposition");let S="download.pdf";if(u){const l=/filename="(.+)"/.exec(u);l&&l[1]&&(S=l[1])}return{filename:S,data:s.body}}),(0,n.W)(s=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}deleteResume(e){return this.isLoadingSubject?.next(!0),this.http.delete(`${d.c.apiUrl}/resume/all`,{body:e}).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}fetchAllJobProfiles(e,t){return this.isLoadingSubject?.next(!0),this.http.get(`${d.c.apiUrl}/jobPosting/all?tenantId=${this.tenantId}&page=${e}&size=${t}`).pipe((0,r.T)(s=>s),(0,n.W)(s=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}addJobProfile(e){return this.isLoadingSubject?.next(!0),this.http.post(`${d.c.apiUrl}/jobPosting`,e).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}updateJobProfile(e){const t={...e,tenant:{id:this.tenantId}};return this.isLoadingSubject?.next(!0),this.http.put(`${d.c.apiUrl}/jobPosting`,t).pipe((0,r.T)(s=>s),(0,n.W)(s=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}deleteJobProfile(e){return this.isLoadingSubject?.next(!0),this.http.delete(`${d.c.apiUrl}/jobPosting?jobPostingId=${e.id}`).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}deleteJobProfileBulk(e){return this.isLoadingSubject?.next(!0),this.http.delete(`${d.c.apiUrl}/jobPosting/all`,{body:e}).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}fetchAllMockintoSchedules(e,t,s,u,S){return this.isLoadingSubject?.next(!0),this.candidateId?this.http.get(`${d.c.apiUrl}/interviewSchedule/candidate/all?candidateId=${this.candidateId}&status=${e}&page=${t}&size=${s}&sortField=${u}&sortDirection=${S}`).pipe((0,r.T)(l=>l),(0,n.W)(l=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1))):(0,i.of)(Error("No Candidate Found"))}fetchMockintoScheduleById(e){return this.isLoadingSubject?.next(!0),this.http.get(`${d.c.apiUrl}/interviewSchedule?InterviewScheduleId=${e}`).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(new Error("No Schedule Found"))),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}addMockintoSchedule(e){const t={...e,tenant:{id:this.tenantId},candidate:{id:this.candidateId,tenant:{id:this.tenantId}}};return console.log(t),this.isLoadingSubject?.next(!0),this.http.post(`${d.c.apiUrl}/interviewSchedule`,t).pipe((0,r.T)(s=>s),(0,n.W)(s=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}updateMockintoSchedule(e){const t={...e,tenant:{id:this.tenantId},candidate:{id:this.candidateId,tenant:{id:this.tenantId}}};return console.log(t),this.isLoadingSubject?.next(!0),this.http.put(`${d.c.apiUrl}/interviewSchedule`,t).pipe((0,r.T)(s=>s),(0,n.W)(s=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}deleteMockintoSchedule(e){return this.isLoadingSubject?.next(!0),this.http.delete(`${d.c.apiUrl}/interviewSchedule?interviewScheduleId=${e.schedule.id}`).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}deleteMockintoScheduleBulk(e){return this.isLoadingSubject?.next(!0),this.http.delete(`${d.c.apiUrl}/interviewSchedule/all`,{body:e}).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}getCandidateDetails(){return this.isLoadingSubject?.next(!0),this.http.get(`${d.c.apiUrl}/candidate?CandidateId=${this.candidateId}`).pipe((0,r.T)(e=>e),(0,n.W)(e=>(0,i.of)(new Error("No Candidate Found"))),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}editProfile(e){const t={id:this.userId,...e,tenant:[{id:this.tenantId}]};return this.isLoadingSubject?.next(!0),this.http.put(`${d.c.apiUrl}/candidate`,t).pipe((0,r.T)(s=>s),(0,n.W)(s=>(0,i.of)(s)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}fetchAllMockintoQuestions(e,t,s){return this.isLoadingSubject?.next(!0),this.http.get(`${d.c.apiUrl}/interviewSchedule/candidate/all?candidateId=${this.candidateId}&status=${e}&page=${t}&size=${s}`).pipe((0,r.T)(u=>u),(0,n.W)(u=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}addMockintoQuestion(e){const t={...e,tenant:{id:this.tenantId},candidate:{id:this.candidateId,tenant:{id:this.tenantId}}};return this.http.post(`${d.c.apiUrl}/botJobCandidateQuestion`,t).pipe((0,r.T)(s=>s),(0,n.W)(s=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}updateMockintoQuestion(e){const t={...e,tenant:{id:this.tenantId},candidate:{id:this.candidateId,tenant:{id:this.tenantId}}};return this.http.put(`${d.c.apiUrl}/botJobCandidateQuestion`,t).pipe((0,r.T)(s=>s),(0,n.W)(s=>(0,i.of)(s)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}deleteMockintoQuestionBulk(e){return this.isLoadingSubject?.next(!0),this.http.delete(`${d.c.apiUrl}/interviewSchedule/all`,{body:e}).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}deleteMockintoQuestion(e){return this.isLoadingSubject?.next(!0),this.http.delete(`${d.c.apiUrl}/botJobCandidateQuestion?botJobCandidateQuestionId=${e}`).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}fetchAllMockintoSchedulesByCandidate(e,t,s){return this.isLoadingSubject?.next(!0),this.http.get(`${d.c.apiUrl}/interviewSchedule/candidate/all?candidateId=${this.candidateId}&status=${e}&page=${t}&size=${s}`).pipe((0,r.T)(u=>u),(0,n.W)(u=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}endMockintoSchedule(e){return this.isLoadingSubject?.next(!0),this.http.post(`${d.c.apiUrl}/interviewSchedule/end`,e).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(new Error("Error Ending Mockinto Schedule"))),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}fetchMockintoReportByScheduleId(e){return this.isLoadingSubject?.next(!0),this.http.get(`${d.c.apiUrl}/interviewSchedule/candidate/report?scheduleId=${e}`).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(new Error("No Report Found"))),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}stopMockintoSchedule(e){return this.isLoadingSubject?.next(!0),this.http.put(`${d.c.apiUrl}/interviewSchedule`,e).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}fetchAllMockintoQuestionsByScheduleId(e,t=0,s=99){return this.isLoadingSubject?.next(!0),this.http.get(`${d.c.apiUrl}/botJobCandidateQuestion/schedule/all?scheduleId=${e}&page=${t}&size=${s}`).pipe((0,r.T)(u=>u),(0,n.W)(u=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}saveCandidateAnswer(e){return this.isLoadingSubject?.next(!0),this.http.post(`${d.c.apiUrl}/botJobCandidateQuestionResponse`,e).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(new Error("Error Save Candidate Answer"))),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}updateBackendForPlanChange(e){return this.isLoadingSubject?.next(!0),this.http.post(`${d.c.apiUrl}/subscription`,e).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(new Error("Error Updating Plan"))),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}getConfigAll(){return this.isLoadingSubject?.next(!0),this.http.get(`${d.c.apiUrl}/generalConfig/tenant/all?tenantId=${this.tenantId}`).pipe((0,r.T)(e=>e),(0,n.W)(e=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}getAllPlan(e){return this.isLoadingSubject?.next(!0),this.http.get(`${d.c.apiUrl}/plan/all?tenantId=${e}`).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}getTenantConfig(e){return this.isLoadingSubject?.next(!0),this.http.get(`${d.c.apiUrl}/generalConfig/tenant/all?tenantId=${e}`).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}getSubscriptionByTenantId(e){return this.isLoadingSubject?.next(!0),this.http.get(`http://54.90.45.9:8080/subscription/all?tenantId=${e}`).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}deleteSubscription(e){return this.isLoadingSubject?.next(!0),this.http.delete(`${d.c.apiUrl}/subscription/all?tenantId=${e}`).pipe((0,r.T)(t=>t),(0,n.W)(t=>(0,i.of)(void 0)),(0,a.j)(()=>this.isLoadingSubject?.next(!1)))}showToaster(){const e=document.getElementById("kt_docs_toast_toggle");c.y8.getOrCreateInstance(e).show()}ngOnDestroy(){this.unsubscribe.forEach(e=>e.unsubscribe())}static \u0275fac=function(t){return new(t||f)(g.KVO(b.Ix),g.KVO(L.Qq))};static \u0275prov=g.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},2092:(j,p,o)=>{o.d(p,{R:()=>r});var h=o(7705),i=o(1626);let r=(()=>{class n{http;static STRIPE_BASE_URL="https://api.stripe.com/v1";STRIPE_PUBLIC_KEY="pk_test_51QA7S8AWH1At8PiUavNwOL5XwoiIMBb6wS5YjDBlKnjHZr2a703Xwdbkjn0wjyiZ83XaqaoBXoZifc85weR8SeoB00IZPZtpH0";STRIPE_SECRET_KEY="sk_test_51QA7S8AWH1At8PiUzUgL0hKv5UQyQ4lpQuDWLdwMvk8iSxbviNDzTfCAEZOgF5DXMI7IZFiXR9ikaZ2YTrDxH0PQ00GsKMNpLf";HEADERS={Authorization:`Bearer ${this.STRIPE_SECRET_KEY}`,"Content-Type":"application/x-www-form-urlencoded"};constructor(d){this.http=d}createPaymentIntent(d){const c=new URLSearchParams(d);return this.http.post(`${n.STRIPE_BASE_URL}/payment_intents`,c.toString(),{headers:this.HEADERS})}getPaymentHistory(){return this.http.get(`${n.STRIPE_BASE_URL}/payment_intents`,{headers:this.HEADERS})}getAllPlans(){return this.http.get(`${n.STRIPE_BASE_URL}/plans`,{headers:this.HEADERS})}static \u0275fac=function(c){return new(c||n)(h.KVO(i.Qq))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()}}]);